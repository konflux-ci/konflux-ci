apiVersion: v1
kind: Service
metadata:
  name: integration-service-webhook-service
  namespace: {{ .Values.IntegrationServiceNamespace }}
  labels:
    app.kubernetes.io/component: webhook
    app.kubernetes.io/created-by: integration-service
    app.kubernetes.io/instance: webhook-service
    app.kubernetes.io/managed-by: kustomize
    app.kubernetes.io/name: service
    app.kubernetes.io/part-of: integration-service
  {{- include "integration.labels" . | nindent 4 }}
  annotations:
    service.beta.openshift.io/serving-cert-secret-name: webhook-server-cert
spec:
  selector:
    control-plane: controller-manager
    {{- include "integration.selectorLabels" . | nindent 4 }}
  ports:
  {{- .Values.integrationServiceWebhookService.ports | toYaml | nindent 2 }}
