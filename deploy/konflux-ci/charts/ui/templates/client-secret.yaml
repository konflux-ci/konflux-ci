{{ $secret := (lookup "v1" "Secret" .Values.DexNamespace "oauth2-proxy-client-secret") }}

apiVersion: v1
kind: Secret
metadata:
  name: oauth2-proxy-client-secret
  namespace: {{ .Values.UINamespace }}
type: Opaque
data:
{{- if hasKey $secret "data" }}
  client-secret: {{ index $secret.data "client-secret" }}
{{- else }}
  client-secret: MISSING
{{- end }}
